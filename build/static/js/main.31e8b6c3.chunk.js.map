{"version":3,"sources":["pages/user/style.module.css","env.js","pages/user/users.jsx","pages/user/addUser.jsx","index.js"],"names":["module","exports","Users","users","onHandleUserSelection","isUserDeleteEnable","onHandleUserRemove","loading","navigate","useNavigate","className","style","head","user_button","onClick","cursor","user_button_enabled","user_button_disabled","disabled","map","user","index","key","email","type","onChange","checked","isSelected","name","role","userDefault","AddUser","onHandleAdduser","useState","setUser","handleChange","event","target","value","add_user_root","email_section","placeholder","required","submit","add_user_main_section","name_section","htmlFor","id","role_section","client","ApolloClient","uri","env","request","operation","setContext","headers","ALL_USERS_QUERY","gql","App","useQuery","data","error","setUsers","setUserDeleteEnable","useEffect","hasOwnProperty","allUsers","path","element","updatedUsers","some","filter","push","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.31e8b6c3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"style_head__1FW7R\",\"user_button\":\"style_user_button__2_G5H\",\"user_button_disabled\":\"style_user_button_disabled__XBpr4\",\"user_button_enabled\":\"style_user_button_enabled__3_OdW\",\"add_user_root\":\"style_add_user_root__lddd0\",\"email\":\"style_email__1MwOd\",\"submit\":\"style_submit__3q3kt\",\"email_section\":\"style_email_section__3mans\",\"add_user_main_section\":\"style_add_user_main_section__16Hju\",\"name_section\":\"style_name_section__2wVhS\",\"role_section\":\"style_role_section__umeE3\",\"role\":\"style_role__1coGh\"};","export default {\n  GRAPHQL_ENDPOINT: 'https://dn6jtahorvekvabij3ziq3rsk4.appsync-api.us-east-1.amazonaws.com/graphql',\n  GRAPHQL_API_KEY: 'da2-jfxhcmqg6jhgjjzdca2w2d5o7m'\n};  ","import React from 'react';\nimport style from './style.module.css';\nimport { useNavigate } from 'react-router-dom';\n\nconst Users = ({\n  users,\n  onHandleUserSelection,\n  isUserDeleteEnable,\n  onHandleUserRemove,\n  loading,\n}) => {\n  const navigate = useNavigate();\n  if (loading) {\n    return <p>Loading...</p>;\n  }\n  return (\n    <div>\n      <div className={style.head}>\n        <h2>Users</h2>\n        <div>\n          <button\n            className={`${style.user_button}\n          }`}\n            onClick={() => navigate('/add')}\n            style={{ cursor: 'pointer' }}\n          >\n            Add User\n          </button>{' '}\n          <button\n            className={`${style.user_button} ${\n              !isUserDeleteEnable\n                ? style.user_button_disabled\n                : style.user_button_enabled\n            }`}\n            disabled={!isUserDeleteEnable}\n            onClick={onHandleUserRemove}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n      <table>\n        <thead>\n          <tr>\n            <th></th>\n            <th>Email</th>\n            <th>Name</th>\n            <th>Role</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map((user, index) => {\n            return (\n              <tr key={user.email}>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    onChange={() => onHandleUserSelection(index)}\n                    checked={user.isSelected}\n                  />\n                </td>\n                <td>{user.email}</td>\n                <td>{user.name}</td>\n                <td>{user.role}</td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default Users;\n","import React, { useState } from 'react';\nimport style from './style.module.css';\nimport { useNavigate } from 'react-router-dom';\nconst userDefault = { email: '', name: '', role: '' };\nconst AddUser = ({ onHandleAdduser }) => {\n  const [user, setUser] = useState(userDefault);\n  const navigate = useNavigate();\n  const handleChange = (event) => {\n    const { value, name } = event.target;\n    setUser({ ...user, [name]: value });\n  };\n  const handleSubmit = () => {\n    onHandleAdduser(user);\n\n    setUser(userDefault);\n    navigate('/');\n  };\n  return (\n    <div className={style.add_user_root}>\n      <div className={style.email_section}>\n        <input\n          type=\"text\"\n          className={style.email}\n          placeholder=\"Insert Email\"\n          name=\"email\"\n          required\n          value={user.email}\n          onChange={handleChange}\n        />\n\n        <input\n          type=\"submit\"\n          value=\"Save\"\n          onClick={handleSubmit}\n          className={style.submit}\n        />\n      </div>\n\n      <div className={style.add_user_main_section}>\n        <div className={style.name_section}>\n          <label htmlFor=\"name\">Name</label>\n          <br />\n          <input\n            type=\"text\"\n            id=\"name\"\n            name=\"name\"\n            required\n            value={user.name}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          <div className={style.role_section}>\n            <input\n              type=\"radio\"\n              id=\"admin\"\n              name=\"role\"\n              value=\"ADMIN\"\n              checked={user.role === 'ADMIN'}\n              onChange={handleChange}\n            />\n            <label htmlFor=\"admin\">Admin</label>\n          </div>\n          <div className={style.role_section}>\n            <input\n              type=\"radio\"\n              id=\"developer\"\n              name=\"role\"\n              value=\"DEVELOPER\"\n              checked={user.role === 'DEVELOPER'}\n              onChange={handleChange}\n            />\n            <label htmlFor=\"developer\">Developer</label>\n          </div>\n          <div className={style.role_section}>\n            <input\n              type=\"radio\"\n              id=\"AppManager\"\n              name=\"role\"\n              value=\"APP_MANAGER\"\n              checked={user.role === 'APP_MANAGER'}\n              onChange={handleChange}\n            />\n            <label htmlFor=\"AppManager\">App Manager</label>\n          </div>\n          <div className={style.role_section}>\n            <input\n              type=\"radio\"\n              id=\"marketing\"\n              name=\"role\"\n              value=\"MARKETING\"\n              checked={user.role === 'MARKETING'}\n              onChange={handleChange}\n            />\n            <label htmlFor=\"marketing\">Marketing</label>\n          </div>\n          <div className={style.role_section}>\n            <input\n              type=\"radio\"\n              id=\"sales\"\n              name=\"role\"\n              value=\"SALES\"\n              checked={user.role === 'SALES'}\n              onChange={handleChange}\n            />\n            <label htmlFor=\"sales\">Sales</label>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddUser;\n","import { ApolloProvider, useQuery } from '@apollo/react-hooks';\nimport ApolloClient, { gql } from 'apollo-boost';\nimport {BrowserRouter,Route,Routes} from 'react-router-dom';\nimport React,{useEffect, useState} from 'react';\nimport ReactDOM from 'react-dom';\nimport env from './env';\nimport Users from './pages/user/users';\nimport AddUser from './pages/user/addUser';\n\nconst client = new ApolloClient({\n  uri: env.GRAPHQL_ENDPOINT,\n  request: operation => {\n    operation.setContext({\n      headers: {\n        'x-api-key': env.GRAPHQL_API_KEY,\n      }\n    })\n  }\n});\n\nconst ALL_USERS_QUERY = gql`\n  query {\n    allUsers {\n      email\n      name\n      role\n    }\n  }\n`;\n\nconst App = () => {\n  const { loading, error, data } = useQuery(ALL_USERS_QUERY);\n  const [users,setUsers] =useState([]);\n  const [isUserDeleteEnable,setUserDeleteEnable]=useState(false);\n\n  useEffect(()=>{\n    if(data&&data.hasOwnProperty('allUsers')){\n      setUsers(data.allUsers.map((user)=>{\n        return {...user,isSelected:false}\n      }))\n    }\n  },[data])\n\n\n  // if (error) {\n  //   return <p>Error: {JSON.stringify(error)}</p>;\n  // }\n\n  // return (\n  //   <pre>\n  //     <code>\n  //       {JSON.stringify(data, null, 2)}\n  //     </code>\n  //   </pre>\n  // )\n  \n  const handleUserSelection=(index)=>{\n        const updatedUsers=[...users];\n        updatedUsers[index].isSelected=!updatedUsers[index].isSelected;\n        setUsers(updatedUsers);\n        setUserDeleteEnable(updatedUsers.some(user=> user.isSelected));\n  }\n\n  const handleUserRemove=()=>{\n    const updatedUsers=users.filter(user => !user.isSelected);\n    setUsers(updatedUsers);\n    setUserDeleteEnable(updatedUsers.some(user=> user.isSelected));\n  }\n\n  const handleAddUser=(user)=>{\n      const updatedUsers=[...users];\n      updatedUsers.push({...user,isSelected:false});\n      setUsers(updatedUsers);\n\n  }\n\n  return(\n    <div>\n      <Routes>\n        <Route path='/' element={\n        <Users \n              users={users} \n              onHandleUserSelection={handleUserSelection} \n              isUserDeleteEnable={isUserDeleteEnable}\n              onHandleUserRemove={handleUserRemove}\n              loading={loading}\n              />} />\n\n          <Route path='/add' element={ <AddUser onHandleAdduser={handleAddUser} />} />\n      </Routes>\n    </div>\n  )\n}\n\nconst Root = () => (\n  <ApolloProvider client={client}>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </ApolloProvider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));"],"sourceRoot":""}